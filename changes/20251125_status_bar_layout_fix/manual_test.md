# 手動測試指南

## 測試目的
驗證狀態列在打開新文件時不會被編輯區覆蓋，並且始終正確顯示在窗口底部。

## 前置條件
1. 已應用修復（運行 `apply_fix.sh`）
2. 已編譯應用程式：
   ```bash
   cd rustnotepad_gui
   cargo build
   ```

## 測試步驟

### 測試 1: 基本顯示測試

**步驟**：
1. 啟動應用程式：
   ```bash
   ./target/debug/rustnotepad
   ```
2. 觀察窗口底部的狀態列

**預期結果**：
- ✅ 狀態列顯示在窗口最底部
- ✅ 狀態列高度約 24px，背景色與主題一致
- ✅ 狀態列顯示以下資訊：
  - 文檔語言（例如：Plain Text）
  - 行數和字數
  - 當前游標位置（行、列）
  - 編碼方式（例如：UTF-8）
  - 換行符類型（例如：Windows (CR LF)）
  - 編輯模式（例如：INS）

**截圖**：
```
┌─────────────────────────────────────────────────┐
│ File  Edit  Search  View  ...          [Menu]  │ ← 選單列
├─────────────────────────────────────────────────┤
│ [New] [Open] [Save] ...                [Tools] │ ← 工具列
├─────────────────────────────────────────────────┤
│                                                 │
│  [編輯區域]                                     │ ← 編輯區
│                                                 │
│                                                 │
├─────────────────────────────────────────────────┤
│ Plain Text | Len: 0, Lines: 1 | Ln: 1, Col: 1 │ ← 狀態列
│ | UTF-8 | Windows (CR LF) | INS                │
└─────────────────────────────────────────────────┘
```

---

### 測試 2: 新建文件測試

**步驟**：
1. 點擊 `File > New` 或按 `Ctrl+N`
2. 觀察狀態列

**預期結果**：
- ✅ 狀態列持續可見
- ✅ 狀態列不被編輯區覆蓋
- ✅ 狀態列資訊更新（顯示新文件名稱，如「未命名 1」）

---

### 測試 3: 多次新建文件

**步驟**：
1. 連續按 5 次 `Ctrl+N` 創建 5 個新文件
2. 在每次創建後觀察狀態列

**預期結果**：
- ✅ 每次創建新文件時狀態列都保持可見
- ✅ 狀態列始終在窗口底部
- ✅ 切換標籤頁時狀態列正確更新

---

### 測試 4: 窗口大小調整

**步驟**：
1. 拖動窗口邊緣調整窗口大小
2. 嘗試以下尺寸：
   - 最小化窗口（約 800x600）
   - 中等尺寸（約 1200x800）
   - 最大化窗口
3. 在每個尺寸下觀察狀態列

**預期結果**：
- ✅ 在所有窗口尺寸下狀態列都保持可見
- ✅ 狀態列始終固定在底部
- ✅ 狀態列高度保持 24px
- ✅ 編輯區不會覆蓋狀態列

---

### 測試 5: 大量文字輸入

**步驟**：
1. 在編輯區輸入或粘貼大量文字（至少 100 行）
2. 滾動到文件頂部和底部
3. 觀察狀態列

**預期結果**：
- ✅ 狀態列始終可見
- ✅ 狀態列正確顯示當前行號和列號
- ✅ 行數和字數正確更新
- ✅ 滾動時狀態列不會被內容覆蓋

---

### 測試 6: 分割視圖測試

**步驟**：
1. 如果應用程式支持分割視圖，創建分割視圖
2. 在兩個視圖中都輸入文字
3. 在視圖間切換
4. 觀察狀態列

**預期結果**：
- ✅ 狀態列在分割視圖模式下保持可見
- ✅ 切換視圖時狀態列正確更新
- ✅ 狀態列顯示當前活動視圖的資訊

---

### 測試 7: 底部面板交互

**步驟**：
1. 打開底部面板（如果有，例如：輸出、控制台、搜索結果等）
2. 調整底部面板大小
3. 關閉底部面板
4. 觀察狀態列

**預期結果**：
- ✅ 狀態列始終在底部面板下方（最底部）
- ✅ 調整底部面板大小時狀態列位置不變
- ✅ 關閉底部面板後狀態列仍然可見

---

### 測試 8: 主題切換測試

**步驟**：
1. 切換到不同的主題（例如：深色主題、淺色主題）
2. 在每個主題下觀察狀態列

**預期結果**：
- ✅ 狀態列背景色與主題一致
- ✅ 狀態列文字清晰可讀
- ✅ 狀態列在所有主題下都保持可見
- ✅ 主題切換不影響狀態列布局

---

### 測試 9: 編輯操作測試

**步驟**：
1. 輸入文字
2. 執行撤銷（Ctrl+Z）和重做（Ctrl+Y）
3. 剪切、複製、粘貼文字
4. 選擇文字
5. 觀察狀態列

**預期結果**：
- ✅ 游標位置實時更新
- ✅ 選擇文字時顯示選擇的字數
- ✅ 編輯操作不影響狀態列顯示
- ✅ 狀態列資訊準確反映當前狀態

---

### 測試 10: 長時間運行測試

**步驟**：
1. 保持應用程式運行至少 5 分鐘
2. 期間進行各種操作：
   - 創建、編輯、保存文件
   - 切換標籤頁
   - 調整窗口大小
3. 持續觀察狀態列

**預期結果**：
- ✅ 狀態列始終保持可見
- ✅ 沒有出現閃爍或消失
- ✅ 資訊更新流暢
- ✅ 沒有性能問題

---

## 已知問題檢查清單

檢查以下問題是否已修復：

- [ ] ❌ **修復前**：打開新文件時狀態列被編輯區覆蓋
- [ ] ✅ **修復後**：狀態列始終可見在窗口底部

## 回歸測試

確保修復沒有引入新問題：

- [ ] 選單列正常顯示和運作
- [ ] 工具列正常顯示和運作
- [ ] 側邊欄（項目面板、函數列表等）正常顯示
- [ ] 編輯區正常運作
- [ ] 底部面板（如果有）正常顯示
- [ ] 其他 UI 元素沒有異常

## 測試環境

記錄測試時的環境資訊：

```
作業系統：___________________
視窗管理器：___________________
螢幕解析度：___________________
應用程式版本：___________________
編譯日期：___________________
測試日期：___________________
測試者：___________________
```

## 測試結果

| 測試項目 | 通過 | 失敗 | 備註 |
|---------|------|------|------|
| 測試 1: 基本顯示 | ☐ | ☐ | |
| 測試 2: 新建文件 | ☐ | ☐ | |
| 測試 3: 多次新建 | ☐ | ☐ | |
| 測試 4: 窗口調整 | ☐ | ☐ | |
| 測試 5: 大量文字 | ☐ | ☐ | |
| 測試 6: 分割視圖 | ☐ | ☐ | |
| 測試 7: 底部面板 | ☐ | ☐ | |
| 測試 8: 主題切換 | ☐ | ☐ | |
| 測試 9: 編輯操作 | ☐ | ☐ | |
| 測試 10: 長時間運行 | ☐ | ☐ | |

## 問題報告

如發現問題，請記錄：

```
問題描述：
__________________________________________
__________________________________________

重現步驟：
1. __________________________________________
2. __________________________________________
3. __________________________________________

預期行為：
__________________________________________

實際行為：
__________________________________________

截圖或錄影：
__________________________________________
```

## 總結

**總體測試結果**：☐ 通過  ☐ 失敗

**簽核**：
- 測試者：___________________
- 日期：___________________
- 簽名：___________________
